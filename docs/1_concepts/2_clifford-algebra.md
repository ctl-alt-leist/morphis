# The Clifford Algebra

The Clifford algebra is the algebraic structure that unifies the exterior algebra with metric structure, enabling geometric computations with lengths, angles, and rotations.

## Definition

The **Clifford algebra** $\text{Cl}(V, g)$ is the associative algebra generated by $V$ subject to the fundamental relation:

$$\mathbf{v}^2 = g(\mathbf{v}, \mathbf{v}) \cdot \mathbf{1}$$

for all $\mathbf{v} \in V$, where $\mathbf{1}$ is the unit scalar. This relation encodes the metric structure directly into the algebra's multiplication.

## Dimension and Grading

The dimension of $\text{Cl}(V, g)$ as a vector space is $2^d$. It inherits a **$\mathbb{Z}$-grading** from the exterior algebra:

$$\text{Cl}(V, g) = \text{Cl}^0 \oplus \text{Cl}^1 \oplus \text{Cl}^2 \oplus \cdots \oplus \text{Cl}^d$$

where:
- $\text{Cl}^0 \cong \mathbb{R}$ (scalars), dimension 1
- $\text{Cl}^1 \cong V$ (grade-1 vectors), dimension $d$
- $\text{Cl}^2$ (bivectors), dimension $\binom{d}{2}$
- $\text{Cl}^k$ ($k$-vectors), dimension $\binom{d}{k}$

The algebra also has a **$\mathbb{Z}_2$-grading** into even and odd elements:

$$\text{Cl}^+(V, g) = \text{Cl}^0 \oplus \text{Cl}^2 \oplus \text{Cl}^4 \oplus \cdots \quad \text{(even subalgebra)}$$

$$\text{Cl}^-(V, g) = \text{Cl}^1 \oplus \text{Cl}^3 \oplus \text{Cl}^5 \oplus \cdots \quad \text{(odd part)}$$

The even subalgebra $\text{Cl}^+(V, g)$ is closed under the geometric product.

## The Geometric Product

The **geometric product** of two grade-1 vectors decomposes as:

$$\mathbf{a} \mathbf{b} = \mathbf{a} \cdot \mathbf{b} + \mathbf{a} \wedge \mathbf{b}$$

where the inner product (scalar part) is:

$$\mathbf{a} \cdot \mathbf{b} = \frac{1}{2}(\mathbf{a}\mathbf{b} + \mathbf{b}\mathbf{a}) = g(\mathbf{a}, \mathbf{b})$$

and the outer product (bivector part) is:

$$\mathbf{a} \wedge \mathbf{b} = \frac{1}{2}(\mathbf{a}\mathbf{b} - \mathbf{b}\mathbf{a})$$

This decomposition reveals the deep structure: the geometric product simultaneously encodes metric information (through the symmetric part) and subspace orientation (through the antisymmetric part).

In morphis, the geometric product is denoted by `*`:

```python
from morphis.elements import basis_vectors, euclidean_metric

g = euclidean_metric(3)
e1, e2, e3 = basis_vectors(g)

# Geometric product of orthogonal vectors
V = e1 * e2  # MultiVector with grades {2}

# Geometric product of parallel vectors
e1 * e1  # MultiVector with grade {0}, value 1.0 (the metric)
```

## Properties of the Geometric Product

**Associativity:**

$$(\mathbf{u}\mathbf{v})\mathbf{w} = \mathbf{u}(\mathbf{v}\mathbf{w})$$

**Vector contraction:**

$$\mathbf{v}^2 = \mathbf{v} \cdot \mathbf{v} = |\mathbf{v}|^2$$

**Orthogonal anticommutativity:**

$$\mathbf{u} \perp \mathbf{v} \implies \mathbf{u}\mathbf{v} = -\mathbf{v}\mathbf{u}$$

## Basis Element Products

For orthonormal basis vectors in Euclidean space:

$$\mathbf{e}_m \mathbf{e}_n = \begin{cases} 1 & m = n \\ \mathbf{e}_{mn} & m \neq n \end{cases}$$

Bivector squares in Euclidean space:

$$\mathbf{e}_{12}^2 = \mathbf{e}_1 \mathbf{e}_2 \mathbf{e}_1 \mathbf{e}_2 = -\mathbf{e}_1 \mathbf{e}_1 \mathbf{e}_2 \mathbf{e}_2 = -1$$

All unit bivectors square to $-1$ in Euclidean signature, behaving like imaginary units.

## The Pseudoscalar

The **pseudoscalar** (or unit pseudoscalar) is the wedge product of all basis vectors:

$$\mathbb{1} = \mathbf{e}_1 \wedge \mathbf{e}_2 \wedge \cdots \wedge \mathbf{e}_d$$

Its square depends on dimension and signature:

$$\mathbb{1}^2 = (-1)^{d(d - 1)/2} \cdot \text{sgn}(g)$$

For Euclidean signatures:
- 2D, 3D: $\mathbb{1}^2 = -1$
- 4D: $\mathbb{1}^2 = +1$

```python
from morphis.elements import pseudoscalar, euclidean_metric
from morphis.operations import geometric

g = euclidean_metric(3)
I = pseudoscalar(g)
I_squared = geometric(I, I)  # grade-0 component is -1
```

## The Degenerate Case

When $g = 0$ (degenerate metric), the Clifford relation becomes $\mathbf{v}^2 = 0$, which is precisely the wedge product condition. Thus:

$$\text{Cl}(V, 0) \cong \bigwedge V$$

The exterior algebra is the Clifford algebra with trivial metric. This connection explains why the exterior product is the antisymmetric part of the geometric product.

## Metric Signatures

The metric signature $(p, q, r)$ indicates $p$ positive eigenvalues, $q$ negative eigenvalues, and $r$ zero eigenvalues in the metric tensor.

Common signatures:
- **Euclidean $d$D**: $(d, 0, 0)$ — all positive
- **Minkowski 4D**: $(1, 3, 0)$ or $(3, 1, 0)$ — spacetime
- **PGA $d$D**: $(d, 0, 1)$ — projective geometric algebra

```python
from morphis.elements import euclidean_metric, pga_metric, lorentzian_metric

g = euclidean_metric(3)       # (3, 0, 0)
h = pga_metric(3)             # (3, 0, 1) in 4D ambient space
eta = lorentzian_metric(4)    # (1, 3, 0)
```

## Reversion

The **reversion** operation reverses the order of vector factors in a product:

$$\widetilde{\mathbf{v}_1 \cdots \mathbf{v}_k} = \mathbf{v}_k \cdots \mathbf{v}_1$$

On a grade-$k$ element $u$:

$$
\widetilde{u} = (-1)^{k(k - 1)/2} \, u
$$

Sign pattern by grade:
- Grades 0, 1: $+$ (unchanged)
- Grades 2, 3: $-$ (sign flip)
- Grades 4, 5: $+$
- Grades 6, 7: $-$

Properties:

$$
\widetilde{MN} = \widetilde{N} \, \widetilde{M}
$$

$$
\widetilde{\widetilde{M}} = M
$$

In morphis, reversion is available as `~` or `.reverse()`:

```python
from morphis.elements import Vector, euclidean_metric

g = euclidean_metric(3)
b = Vector(data, grade=2, metric=g)

b_reversed = ~b  # or b.reverse() or b.rev()
```

## Grade Involution and Clifford Conjugation

**Grade involution** flips the sign of odd grades:

$$
\hat{M}_k = (-1)^k \, M_k
$$

**Clifford conjugation** combines reversion and grade involution:

$$
\bar{M} = \widetilde{\hat{M}}
$$

These involutions are essential for defining norms and inverses in different metric signatures.
